-- NazuX UI Library
local NazuX = {}

-- Services
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TextService = game:GetService("TextService")

-- Main UI Container
local NazuXUI = Instance.new("ScreenGui")
NazuXUI.Name = "NazuXUI"
NazuXUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
NazuXUI.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 500, 0, 350)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BackgroundTransparency = 0.1
MainFrame.BorderSizePixel = 0

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 6)
UICorner.Parent = MainFrame

-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 30)
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
TitleBar.BorderSizePixel = 0

local TitleBarCorner = Instance.new("UICorner")
TitleBarCorner.CornerRadius = UDim.new(0, 6)
TitleBarCorner.Parent = TitleBar

-- Title Text
local TitleText = Instance.new("TextLabel")
TitleText.Name = "TitleText"
TitleText.Size = UDim2.new(0, 200, 1, 0)
TitleText.Position = UDim2.new(0, 10, 0, 0)
TitleText.BackgroundTransparency = 1
TitleText.Text = "Zinner Hub by Nam"
TitleText.TextColor3 = Color3.new(1, 1, 1)
TitleText.TextXAlignment = Enum.TextXAlignment.Left
TitleText.Font = Enum.Font.Gotham
TitleText.TextSize = 14
TitleText.Parent = TitleBar

-- Search Bar
local SearchBar = Instance.new("TextBox")
SearchBar.Name = "SearchBar"
SearchBar.Size = UDim2.new(0, 150, 0, 20)
SearchBar.Position = UDim2.new(0.5, -75, 0.5, -10)
SearchBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
SearchBar.Text = "Search..."
SearchBar.PlaceholderText = "Search..."
SearchBar.TextColor3 = Color3.new(1, 1, 1)
SearchBar.Font = Enum.Font.Gotham
SearchBar.TextSize = 12
SearchBar.ClearTextOnFocus = false

local SearchCorner = Instance.new("UICorner")
SearchCorner.CornerRadius = UDim.new(0, 4)
SearchCorner.Parent = SearchBar

local SearchPadding = Instance.new("UIPadding")
SearchPadding.PaddingLeft = UDim.new(0, 8)
SearchPadding.Parent = SearchBar

SearchBar.Parent = TitleBar

-- Control Buttons
local ControlButtons = Instance.new("Frame")
ControlButtons.Name = "ControlButtons"
ControlButtons.Size = UDim2.new(0, 60, 1, 0)
ControlButtons.Position = UDim2.new(1, -65, 0, 0)
ControlButtons.BackgroundTransparency = 1

local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Size = UDim2.new(0, 20, 0, 20)
MinimizeButton.Position = UDim2.new(0, 0, 0.5, -10)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.new(1, 1, 1)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.TextSize = 14

local MaximizeButton = Instance.new("TextButton")
MaximizeButton.Name = "MaximizeButton"
MaximizeButton.Size = UDim2.new(0, 20, 0, 20)
MaximizeButton.Position = UDim2.new(0, 25, 0.5, -10)
MaximizeButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MaximizeButton.Text = "□"
MaximizeButton.TextColor3 = Color3.new(1, 1, 1)
MaximizeButton.Font = Enum.Font.GothamBold
MaximizeButton.TextSize = 12

local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 20, 0, 20)
CloseButton.Position = UDim2.new(0, 50, 0.5, -10)
CloseButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
CloseButton.Text = "×"
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14

local ControlCorner = Instance.new("UICorner")
ControlCorner.CornerRadius = UDim.new(0, 4)

ControlCorner:Clone().Parent = MinimizeButton
ControlCorner:Clone().Parent = MaximizeButton
ControlCorner:Clone().Parent = CloseButton

MinimizeButton.Parent = ControlButtons
MaximizeButton.Parent = ControlButtons
CloseButton.Parent = ControlButtons
ControlButtons.Parent = TitleBar

-- Tab Container
local TabContainer = Instance.new("Frame")
TabContainer.Name = "TabContainer"
TabContainer.Size = UDim2.new(0, 120, 1, -30)
TabContainer.Position = UDim2.new(0, 0, 0, 30)
TabContainer.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
TabContainer.BorderSizePixel = 0

-- Content Container
local ContentContainer = Instance.new("Frame")
ContentContainer.Name = "ContentContainer"
ContentContainer.Size = UDim2.new(1, -120, 1, -30)
ContentContainer.Position = UDim2.new(0, 120, 0, 30)
ContentContainer.BackgroundTransparency = 1
ContentContainer.ClipsDescendants = true

-- Scrolling Frame for Content
local ContentScroller = Instance.new("ScrollingFrame")
ContentScroller.Name = "ContentScroller"
ContentScroller.Size = UDim2.new(1, 0, 1, 0)
ContentScroller.Position = UDim2.new(0, 0, 0, 0)
ContentScroller.BackgroundTransparency = 1
ContentScroller.BorderSizePixel = 0
ContentScroller.ScrollBarThickness = 3
ContentScroller.ScrollBarImageColor3 = Color3.fromRGB(60, 60, 60)
ContentScroller.CanvasSize = UDim2.new(0, 0, 0, 0)

local ContentLayout = Instance.new("UIListLayout")
ContentLayout.Padding = UDim.new(0, 5)
ContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
ContentLayout.Parent = ContentScroller

ContentScroller.Parent = ContentContainer

-- Parent everything
TitleBar.Parent = MainFrame
TabContainer.Parent = MainFrame
ContentContainer.Parent = MainFrame
MainFrame.Parent = NazuXUI

-- Variables
local tabs = {}
local currentTab = nil
local minimized = false
local originalSize = MainFrame.Size
local originalPosition = MainFrame.Position

-- Functions
function NazuX:CreateWindow(title, subtitle)
    TitleText.Text = title or "NazuX UI"
    
    -- Make window draggable
    local dragging = false
    local dragInput, dragStart, startPos

    TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    TitleBar.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            local delta = input.Position - dragStart
            MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)

    -- Control button functionality
    MinimizeButton.MouseButton1Click:Connect(function()
        minimized = not minimized
        if minimized then
            MainFrame.Visible = false
        else
            MainFrame.Visible = true
        end
    end)

    UserInputService.InputBegan:Connect(function(input, processed)
        if input.KeyCode == Enum.KeyCode.LeftControl and not processed then
            MainFrame.Visible = not MainFrame.Visible
            minimized = not MainFrame.Visible
        end
    end)

    MaximizeButton.MouseButton1Click:Connect(function()
        if MainFrame.Size == originalSize then
            MainFrame.Size = UDim2.new(1, 0, 1, 0)
            MainFrame.Position = UDim2.new(0, 0, 0, 0)
        else
            MainFrame.Size = originalSize
            MainFrame.Position = originalPosition
        end
    end)

    CloseButton.MouseButton1Click:Connect(function()
        NazuXUI:Destroy()
    end)

    -- Button hover effects
    local function setupButtonHover(button)
        button.MouseEnter:Connect(function()
            TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(60, 60, 60)}):Play()
        end)
        
        button.MouseLeave:Connect(function()
            TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}):Play()
        end)
    end

    setupButtonHover(MinimizeButton)
    setupButtonHover(MaximizeButton)
    setupButtonHover(CloseButton)

    NazuXUI.Parent = game:GetService("CoreGui")
    return NazuX
end

function NazuX:CreateTab(name)
    local tabButton = Instance.new("TextButton")
    tabButton.Name = name .. "Tab"
    tabButton.Size = UDim2.new(1, -10, 0, 30)
    tabButton.Position = UDim2.new(0, 5, 0, 5 + (#tabs * 35))
    tabButton.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    tabButton.Text = name
    tabButton.TextColor3 = Color3.new(1, 1, 1)
    tabButton.Font = Enum.Font.Gotham
    tabButton.TextSize = 12
    tabButton.BorderSizePixel = 0

    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0, 4)
    tabCorner.Parent = tabButton

    local tabContent = Instance.new("Frame")
    tabContent.Name = name .. "Content"
    tabContent.Size = UDim2.new(1, 0, 1, 0)
    tabContent.Position = UDim2.new(0, 0, 0, 0)
    tabContent.BackgroundTransparency = 1
    tabContent.Visible = false

    local tabLayout = Instance.new("UIListLayout")
    tabLayout.Padding = UDim.new(0, 5)
    tabLayout.SortOrder = Enum.SortOrder.LayoutOrder
    tabLayout.Parent = tabContent

    tabContent.Parent = ContentScroller

    tabButton.MouseButton1Click:Connect(function()
        if currentTab then
            currentTab.Content.Visible = false
            TweenService:Create(currentTab.Button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(25, 25, 25)}):Play()
        end
        
        currentTab = tabs[name]
        tabContent.Visible = true
        TweenService:Create(tabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}):Play()
    end)

    local tabData = {
        Button = tabButton,
        Content = tabContent,
        Name = name
    }
    
    tabs[name] = tabData
    tabButton.Parent = TabContainer

    -- Set first tab as active
    if not currentTab then
        currentTab = tabData
        tabContent.Visible = true
        TweenService:Create(tabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}):Play()
    end

    return {
        CreateLabel = function(self, text)
            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.Size = UDim2.new(1, -20, 0, 20)
            label.Position = UDim2.new(0, 10, 0, 0)
            label.BackgroundTransparency = 1
            label.Text = text
            label.TextColor3 = Color3.new(1, 1, 1)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Font = Enum.Font.Gotham
            label.TextSize = 14
            label.LayoutOrder = #tabContent:GetChildren()
            label.Parent = tabContent
            
            self:UpdateCanvas()
            return label
        end,

        CreateParagraph = function(self, text)
            local paragraph = Instance.new("TextLabel")
            paragraph.Name = "Paragraph"
            paragraph.Size = UDim2.new(1, -20, 0, 40)
            paragraph.Position = UDim2.new(0, 10, 0, 0)
            paragraph.BackgroundTransparency = 1
            paragraph.Text = text
            paragraph.TextColor3 = Color3.new(0.8, 0.8, 0.8)
            paragraph.TextXAlignment = Enum.TextXAlignment.Left
            paragraph.TextYAlignment = Enum.TextYAlignment.Top
            paragraph.Font = Enum.Font.Gotham
            paragraph.TextSize = 12
            paragraph.TextWrapped = true
            paragraph.LayoutOrder = #tabContent:GetChildren()
            paragraph.Parent = tabContent
            
            self:UpdateCanvas()
            return paragraph
        end,

        CreateToggle = function(self, text, default, callback)
            local toggle = Instance.new("Frame")
            toggle.Name = "Toggle"
            toggle.Size = UDim2.new(1, -20, 0, 25)
            toggle.Position = UDim2.new(0, 10, 0, 0)
            toggle.BackgroundTransparency = 1

            local toggleText = Instance.new("TextLabel")
            toggleText.Name = "Text"
            toggleText.Size = UDim2.new(0.7, 0, 1, 0)
            toggleText.Position = UDim2.new(0, 0, 0, 0)
            toggleText.BackgroundTransparency = 1
            toggleText.Text = text
            toggleText.TextColor3 = Color3.new(1, 1, 1)
            toggleText.TextXAlignment = Enum.TextXAlignment.Left
            toggleText.Font = Enum.Font.Gotham
            toggleText.TextSize = 12
            toggleText.Parent = toggle

            local toggleButton = Instance.new("TextButton")
            toggleButton.Name = "ToggleButton"
            toggleButton.Size = UDim2.new(0, 40, 0, 20)
            toggleButton.Position = UDim2.new(1, -40, 0.5, -10)
            toggleButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            toggleButton.Text = ""
            toggleButton.BorderSizePixel = 0

            local toggleCorner = Instance.new("UICorner")
            toggleCorner.CornerRadius = UDim.new(1, 0)
            toggleCorner.Parent = toggleButton

            local toggleDot = Instance.new("Frame")
            toggleDot.Name = "ToggleDot"
            toggleDot.Size = UDim2.new(0, 16, 0, 16)
            toggleDot.Position = UDim2.new(0, 2, 0.5, -8)
            toggleDot.BackgroundColor3 = Color3.new(1, 1, 1)
            toggleDot.BorderSizePixel = 0

            local dotCorner = Instance.new("UICorner")
            dotCorner.CornerRadius = UDim.new(1, 0)
            dotCorner.Parent = toggleDot

            toggleDot.Parent = toggleButton
            toggleButton.Parent = toggle

            local state = default or false

            local function updateToggle()
                if state then
                    TweenService:Create(toggleDot, TweenInfo.new(0.2), {Position = UDim2.new(0, 22, 0.5, -8)}):Play()
                    TweenService:Create(toggleButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(0, 170, 255)}):Play()
                else
                    TweenService:Create(toggleDot, TweenInfo.new(0.2), {Position = UDim2.new(0, 2, 0.5, -8)}):Play()
                    TweenService:Create(toggleButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}):Play()
                end
            end

            toggleButton.MouseButton1Click:Connect(function()
                state = not state
                updateToggle()
                if callback then
                    callback(state)
                end
            end)

            updateToggle()
            toggle.LayoutOrder = #tabContent:GetChildren()
            toggle.Parent = tabContent
            
            self:UpdateCanvas()
            return {
                Set = function(self, value)
                    state = value
                    updateToggle()
                end,
                Get = function(self)
                    return state
                end
            }
        end,

        CreateButton = function(self, text, callback)
            local button = Instance.new("TextButton")
            button.Name = "Button"
            button.Size = UDim2.new(1, -20, 0, 30)
            button.Position = UDim2.new(0, 10, 0, 0)
            button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            button.Text = text
            button.TextColor3 = Color3.new(1, 1, 1)
            button.Font = Enum.Font.Gotham
            button.TextSize = 12
            button.BorderSizePixel = 0

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.CornerRadius = UDim.new(0, 4)
            buttonCorner.Parent = button

            -- Fingerprint icon
            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.Size = UDim2.new(0, 16, 0, 16)
            icon.Position = UDim2.new(1, -25, 0.5, -8)
            icon.BackgroundTransparency = 1
            icon.Image = "rbxassetid://3926305904" -- Default Roblox icon
            icon.ImageRectSize = Vector2.new(24, 24)
            icon.ImageRectOffset = Vector2.new(964, 324)
            icon.Parent = button

            button.MouseButton1Click:Connect(function()
                if callback then
                    callback()
                end
            end)

            button.MouseEnter:Connect(function()
                TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 50, 50)}):Play()
            end)
            
            button.MouseLeave:Connect(function()
                TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}):Play()
            end)

            button.LayoutOrder = #tabContent:GetChildren()
            button.Parent = tabContent
            
            self:UpdateCanvas()
            return button
        end,

        CreateSlider = function(self, text, min, max, default, callback)
            local slider = Instance.new("Frame")
            slider.Name = "Slider"
            slider.Size = UDim2.new(1, -20, 0, 40)
            slider.Position = UDim2.new(0, 10, 0, 0)
            slider.BackgroundTransparency = 1

            local sliderText = Instance.new("TextLabel")
            sliderText.Name = "Text"
            sliderText.Size = UDim2.new(1, 0, 0, 15)
            sliderText.Position = UDim2.new(0, 0, 0, 0)
            sliderText.BackgroundTransparency = 1
            sliderText.Text = text
            sliderText.TextColor3 = Color3.new(1, 1, 1)
            sliderText.TextXAlignment = Enum.TextXAlignment.Left
            sliderText.Font = Enum.Font.Gotham
            sliderText.TextSize = 12
            sliderText.Parent = slider

            local valueText = Instance.new("TextLabel")
            valueText.Name = "ValueText"
            valueText.Size = UDim2.new(0, 50, 0, 15)
            valueText.Position = UDim2.new(1, -50, 0, 0)
            valueText.BackgroundTransparency = 1
            valueText.Text = tostring(default or min)
            valueText.TextColor3 = Color3.new(1, 1, 1)
            valueText.TextXAlignment = Enum.TextXAlignment.Right
            valueText.Font = Enum.Font.Gotham
            valueText.TextSize = 12
            valueText.Parent = slider

            local sliderTrack = Instance.new("Frame")
            sliderTrack.Name = "Track"
            sliderTrack.Size = UDim2.new(1, 0, 0, 5)
            sliderTrack.Position = UDim2.new(0, 0, 1, -15)
            sliderTrack.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            sliderTrack.BorderSizePixel = 0

            local trackCorner = Instance.new("UICorner")
            trackCorner.CornerRadius = UDim.new(1, 0)
            trackCorner.Parent = sliderTrack

            local sliderFill = Instance.new("Frame")
            sliderFill.Name = "Fill"
            sliderFill.Size = UDim2.new(0, 0, 1, 0)
            sliderFill.Position = UDim2.new(0, 0, 0, 0)
            sliderFill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
            sliderFill.BorderSizePixel = 0

            local fillCorner = Instance.new("UICorner")
            fillCorner.CornerRadius = UDim.new(1, 0)
            fillCorner.Parent = sliderFill

            local sliderButton = Instance.new("TextButton")
            sliderButton.Name = "SliderButton"
            sliderButton.Size = UDim2.new(0, 15, 0, 15)
            sliderButton.Position = UDim2.new(0, -7, 0.5, -7)
            sliderButton.BackgroundColor3 = Color3.new(1, 1, 1)
            sliderButton.Text = ""
            sliderButton.BorderSizePixel = 0

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.CornerRadius = UDim.new(1, 0)
            buttonCorner.Parent = sliderButton

            sliderFill.Parent = sliderTrack
            sliderButton.Parent = sliderTrack
            sliderTrack.Parent = slider

            local value = default or min
            local dragging = false

            local function updateSlider()
                local percent = (value - min) / (max - min)
                sliderFill.Size = UDim2.new(percent, 0, 1, 0)
                sliderButton.Position = UDim2.new(percent, -7, 0.5, -7)
                valueText.Text = tostring(math.floor(value))
            end

            sliderButton.MouseButton1Down:Connect(function()
                dragging = true
            end)

            UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)

            UserInputService.InputChanged:Connect(function(input)
                if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                    local mousePos = UserInputService:GetMouseLocation()
                    local trackAbsPos = sliderTrack.AbsolutePosition
                    local trackAbsSize = sliderTrack.AbsoluteSize
                    
                    local relativeX = (mousePos.X - trackAbsPos.X) / trackAbsSize.X
                    relativeX = math.clamp(relativeX, 0, 1)
                    
                    value = math.floor(min + (max - min) * relativeX)
                    updateSlider()
                    
                    if callback then
                        callback(value)
                    end
                end
            end)

            updateSlider()
            slider.LayoutOrder = #tabContent:GetChildren()
            slider.Parent = tabContent
            
            self:UpdateCanvas()
            return {
                Set = function(self, newValue)
                    value = math.clamp(newValue, min, max)
                    updateSlider()
                end,
                Get = function(self)
                    return value
                end
            }
        end,

        CreateDropdown = function(self, text, options, default, callback)
            local dropdown = Instance.new("Frame")
            dropdown.Name = "Dropdown"
            dropdown.Size = UDim2.new(1, -20, 0, 25)
            dropdown.Position = UDim2.new(0, 10, 0, 0)
            dropdown.BackgroundTransparency = 1
            dropdown.ClipsDescendants = true

            local dropdownText = Instance.new("TextLabel")
            dropdownText.Name = "Text"
            dropdownText.Size = UDim2.new(0.7, 0, 1, 0)
            dropdownText.Position = UDim2.new(0, 0, 0, 0)
            dropdownText.BackgroundTransparency = 1
            dropdownText.Text = text
            dropdownText.TextColor3 = Color3.new(1, 1, 1)
            dropdownText.TextXAlignment = Enum.TextXAlignment.Left
            dropdownText.Font = Enum.Font.Gotham
            dropdownText.TextSize = 12
            dropdownText.Parent = dropdown

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "DropdownButton"
            dropdownButton.Size = UDim2.new(0, 100, 1, 0)
            dropdownButton.Position = UDim2.new(1, -100, 0, 0)
            dropdownButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            dropdownButton.Text = default or options[1] or "Select"
            dropdownButton.TextColor3 = Color3.new(1, 1, 1)
            dropdownButton.Font = Enum.Font.Gotham
            dropdownButton.TextSize = 11
            dropdownButton.BorderSizePixel = 0

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.CornerRadius = UDim.new(0, 4)
            buttonCorner.Parent = dropdownButton

            local dropdownList = Instance.new("ScrollingFrame")
            dropdownList.Name = "DropdownList"
            dropdownList.Size = UDim2.new(1, 0, 0, 0)
            dropdownList.Position = UDim2.new(0, 0, 1, 5)
            dropdownList.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            dropdownList.BorderSizePixel = 0
            dropdownList.ScrollBarThickness = 3
            dropdownList.Visible = false
            dropdownList.CanvasSize = UDim2.new(0, 0, 0, 0)

            local listLayout = Instance.new("UIListLayout")
            listLayout.Padding = UDim.new(0, 2)
            listLayout.SortOrder = Enum.SortOrder.LayoutOrder
            listLayout.Parent = dropdownList

            dropdownButton.Parent = dropdown
            dropdownList.Parent = dropdown

            local open = false
            local selected = default or options[1]

            local function toggleDropdown()
                open = not open
                if open then
                    dropdownList.Visible = true
                    TweenService:Create(dropdownList, TweenInfo.new(0.2), {Size = UDim2.new(1, 0, 0, math.min(#options * 25, 100))}):Play()
                else
                    TweenService:Create(dropdownList, TweenInfo.new(0.2), {Size = UDim2.new(1, 0, 0, 0)}):Play()
                    wait(0.2)
                    dropdownList.Visible = false
                end
            end

            dropdownButton.MouseButton1Click:Connect(toggleDropdown)

            for i, option in ipairs(options) do
                local optionButton = Instance.new("TextButton")
                optionButton.Name = option
                optionButton.Size = UDim2.new(1, 0, 0, 20)
                optionButton.Position = UDim2.new(0, 0, 0, (i-1)*22)
                optionButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
                optionButton.Text = option
                optionButton.TextColor3 = Color3.new(1, 1, 1)
                optionButton.Font = Enum.Font.Gotham
                optionButton.TextSize = 11
                optionButton.BorderSizePixel = 0

                local optionCorner = Instance.new("UICorner")
                optionCorner.CornerRadius = UDim.new(0, 2)
                optionCorner.Parent = optionButton

                optionButton.MouseButton1Click:Connect(function()
                    selected = option
                    dropdownButton.Text = option
                    toggleDropdown()
                    if callback then
                        callback(option)
                    end
                end)

                optionButton.Parent = dropdownList
            end

            dropdownList.CanvasSize = UDim2.new(0, 0, 0, #options * 22)

            dropdown.LayoutOrder = #tabContent:GetChildren()
            dropdown.Parent = tabContent
            
            self:UpdateCanvas()
            return {
                Set = function(self, value)
                    if table.find(options, value) then
                        selected = value
                        dropdownButton.Text = value
                    end
                end,
                Get = function(self)
                    return selected
                end
            }
        end,

        UpdateCanvas = function(self)
            wait()
            local totalHeight = 0
            for _, child in ipairs(tabContent:GetChildren()) do
                if child:IsA("GuiObject") and child ~= tabLayout then
                    totalHeight += child.AbsoluteSize.Y + 5
                end
            end
            ContentScroller.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
        end
    }
end

return NazuX
